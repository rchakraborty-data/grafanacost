{% extends "base.html" %}

{% block title %}Analyze Grafana Dashboard{% endblock %}

{% block content %}
<h1 class="mb-4">Analyze Grafana Dashboard by URL</h1>

<p class="lead">Enter the full URL of the Grafana dashboard you want to analyze.</p>

<form method="POST" action="{{ url_for('analyze_url') }}">
    <div class="mb-3">
        <label for="dashboard_url" class="form-label">Grafana Dashboard URL</label>
        <input type="url" class="form-control" id="dashboard_url" name="dashboard_url" placeholder="e.g., http://your-grafana.com/d/abcdef123/my-dashboard-name" required>
    </div>
    <button type="submit" class="btn btn-primary">Analyze Dashboard</button>
</form>

{% if error %}
    <div class="alert alert-danger mt-4" role="alert">
        {{ error }}
    </div>
{% endif %}

<hr class="my-4">

<div class="card mt-4">
    <div class="card-header">
        <h3>How to Find the Dashboard URL</h3>
    </div>
    <div class="card-body">
        <ol>
            <li>Log in to your Grafana instance.</li>
            <li>Navigate to the dashboard you want to analyze.</li>
            <li>Copy the full URL from your browser's address bar.</li>
            <li>Paste the URL into the input field above.</li>
        </ol>
        <p>The URL typically looks like: <code>http://your-grafana.com/d/<strong>dashboard-uid</strong>/dashboard-name</code></p>
    </div>
</div>

{% endblock %}